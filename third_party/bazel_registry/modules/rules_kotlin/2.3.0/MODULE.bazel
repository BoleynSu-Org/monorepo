module(
    name = 'rules_kotlin',
    version = '2.3.0',
    repo_name = 'rules_kotlin',
)

bazel_dep(
    name = 'platforms',
    version = '1.0.0',
)

bazel_dep(
    name = 'bazel_skylib',
    version = '1.9.0',
)

bazel_dep(
    name = 'rules_java',
    version = '9.6.1',
)

bazel_dep(
    name = 'rules_android',
    version = '0.7.1',
)

bazel_dep(
    name = 'bazel_features',
    version = '1.41.0',
)

bazel_dep(
    name = 'bazel_lib',
    version = '3.2.1',
)

bazel_dep(
    name = 'protobuf',
    version = '33.5',
    repo_name = 'com_google_protobuf',
)

bazel_dep(
    name = 'rules_cc',
    version = '0.2.17',
)

bazel_dep(
    name = 'rules_jvm_external',
    version = '6.10',
)

maven = use_extension(
    '@rules_jvm_external//:extensions.bzl',
    'maven',
)

maven.override(
    name = 'override_target_in_deps_protobuf_java',
    coordinates = 'com.google.protobuf:protobuf-java',
    target = '@com_google_protobuf//:protobuf_java',
)

maven.override(
    name = 'override_target_in_deps_protobuf_java_util',
    coordinates = 'com.google.protobuf:protobuf-java-util',
    target = '@com_google_protobuf//:protobuf_java_util',
)

toolchains = use_extension(
    '@rules_java//java:extensions.bzl',
    'toolchains',
)

use_repo(
    toolchains,
    'remote_java_tools',
)

rules_kotlin_extensions = use_extension(
    '//src/main/starlark/core/repositories:bzlmod_setup.bzl',
    'rules_kotlin_extensions',
)

use_repo(
    rules_kotlin_extensions,
    'com_github_google_ksp',
    'com_github_jetbrains_kotlin',
    'com_github_pinterest_ktlint',
    'kotlinx_serialization_core_jvm',
    'kotlinx_serialization_json',
    'kotlinx_serialization_json_jvm',
    'kotlin_build_tools_impl',
)

register_toolchains(
    '//kotlin/internal:default_toolchain',
)
